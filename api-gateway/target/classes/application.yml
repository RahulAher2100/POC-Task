server:
  port: 9999

spring:
   application:
     name: API-GATEWAY
     cloud:
       gateway:
         routes:
           - id: USER-SERVICE
             uri: lb://USER-SERVICE
             predicates:
               - path=/user/**
             filters:
               - name: CircuitBreaker
                 args:
                   name: USER-SERVICE
                   fallbackUri: forward:/userServiceFallBack
           - id: DEPARTMENT-SERVICE
             uri: lb://DEPARTMENT-SERVICE
             predicates:
               - path=/department/**
             filters:
                 - name: CircuitBreaker
                   args:
                     name: DEPARTMENT-SERVICE
                     fallbackUri: forward:/departmentServiceFallBack

hystrix:
  command:
    fallbackCmd:
      execution:
       isolation:
         thread:
           timeoutInMilliseconds:4000

management:
  endpoints:
    web:
      exposure:
        include:hystrix.stream



     eureka:
       client:
         register-with-eureka: true
         fetch-registry: true
         service-ul:
           defaultZone: http://localhost:8761/eureka/
         instance:
          hostname: localhost
